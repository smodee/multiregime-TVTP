% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/parameter_transforms.R
\name{set_parameter_attributes}
\alias{set_parameter_attributes}
\title{Parameter Transformation Functions for Multi-Regime TVTP Models}
\usage{
set_parameter_attributes(
  par,
  K,
  model_type = c("constant", "tvp", "exogenous", "gas"),
  diag_probs = TRUE,
  equal_variances = FALSE,
  parameterization = c("natural", "transformed")
)
}
\arguments{
\item{par}{Numeric parameter vector}

\item{K}{Number of regimes}

\item{model_type}{Model type ("constant", "tvp", "exogenous", "gas")}

\item{diag_probs}{TRUE for diagonal transition probs, FALSE for off-diagonal}

\item{equal_variances}{TRUE for shared variance, FALSE for separate variances}

\item{parameterization}{"natural" or "transformed" space}
}
\value{
Parameter vector with proper attributes set
}
\description{
This file provides robust parameter handling with attribute-based metadata
system that eliminates the need for fragile length-based inference.
}
\section{PARAMETER VECTOR STRUCTURE AND ATTRIBUTES}{
All parameter vectors in this system carry metadata as R attributes:

CORE ATTRIBUTES (required for all parameter vectors):
\itemize{
\item K: Number of regimes (integer, >= 2)
\item model_type: One of "constant", "tvp", "exogenous", "gas"
\item diag_probs: TRUE for diagonal transition probabilities, FALSE for off-diagonal
\item equal_variances: TRUE for single shared variance, FALSE for K separate variances
}

STATE TRACKING ATTRIBUTES:
\itemize{
\item parameterization: "natural" (original space) or "transformed" (unconstrained space)
\item parameter_structure: Named list with start/end indices for each component
\item original_length: Length before transformations (for validation)
}
}

\section{PARAMETER VECTOR LAYOUT:}{
All models follow this structure in natural space:
[mu_1, ..., mu_K, sigma2_components, transition_components, time_varying_components]

Where:
\itemize{
\item mu_components: Always K mean parameters
\item sigma2_components: K parameters (equal_variances=FALSE) or 1 parameter (equal_variances=TRUE)
\item transition_components: K parameters (diag_probs=TRUE) or K*(K-1) parameters (diag_probs=FALSE)
\item time_varying_components: Depends on model_type
\itemize{
\item "constant": none
\item "tvp", "exogenous": A coefficients (matching transition_components length)
\item "gas": A coefficients + B coefficients (both matching transition_components length)
}
}
}

\section{DIAGONAL VS OFF-DIAGONAL TRANSITION PROBABILITIES:}{
diag_probs = TRUE (diagonal parameterization) [DEFAULT]:
\itemize{
\item K parameters representing p11, p22, ..., pKK (persistence probabilities)
\item Off-diagonal probabilities equal within each row: pij = (1-pii)/(K-1) for i≠j
\item Compatible with original HMMGAS/simulation.R implementation
\item More parsimonious: fewer parameters to estimate
\item NOTE FOR K>2: Assumes uniform distribution of off-diagonal transitions.
This means "if you leave state i, you're equally likely to go to any other state."
This is a modeling assumption that may not be appropriate for all applications.
}

diag_probs = FALSE (off-diagonal parameterization):
\itemize{
\item K*(K-1) parameters representing all off-diagonal transition probabilities
\item Diagonal probabilities calculated as: pii = 1 - sum(pij for j≠i)
\item Fully flexible: allows asymmetric transitions between states
\item More parameters: may require more data for reliable estimation
}
}

\section{EXAMPLES:}{

}

\section{2-regime constant model with diagonal probs (matches original simulation.R)}{
par <- c(-1, 1, 0.5, 0.5, 0.8, 0.9)  # mu1, mu2, sig1, sig2, p11, p22
par <- set_parameter_attributes(par, K=2, model_type="constant",
diag_probs=TRUE, equal_variances=FALSE)
}

\section{3-regime TVP model with off-diagonal probs and equal variances}{
par <- c(-2, 0, 2, 0.5, 0.1,0.1,0.1,0.1,0.1,0.1, 0.05,0.05,0.05,0.05,0.05,0.05)
par <- set_parameter_attributes(par, K=3, model_type="tvp",
diag_probs=FALSE, equal_variances=TRUE)
Set parameter vector attributes with validation

This is the main function for creating properly attributed parameter vectors.
It validates the configuration and vector length, then sets all required attributes.
}

